# Intuition

ì£¼ì–´ì§„ banned_idì— ëŒ€í•´ user_idì˜ ê°€ëŠ¥í•œ ì¡°í•©ì„ ì°¾ì•„í•œë‹¤.
ì¡°í•© ë‚´ì—ì„œ ê°™ì€ user_idê°€ ì¤‘ë³µ ì‚¬ìš©ë˜ì§€ ì•Šì•„ì•¼ í•˜ë©° ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•œë‹¤.

# Approach

1. ìž¬ê·€ë¥¼ í™œìš©í•´ banned_idì™€ user_id ê°„ ê°€ëŠ¥í•œ ëª¨ë“  ë§¤ì¹­ì„ íƒìƒ‰í•œë‹¤.
2. ì–´ë–¤ user_idê°€ ì´ë¯¸ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€ ì¶”ì í•˜ê¸° ìœ„í•´ usedUsers ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤.
3. í˜„ìž¬ íƒìƒ‰ëŒ€ìƒ banned_idì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” user_idë¥¼ ì°¾ì€ í›„, ë‹¤ìŒ banned_id ì¸ë±ìŠ¤ë¥¼ ìž¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•œë‹¤.
4. ë§Œì•½ ëª¨ë“  banned_idì— ëŒ€í•´ ë§¤í•‘ë˜ëŠ” user_idë¥¼ ì°¾ì€ ê²½ìš° ê·¸ ì¡°í•©ì„ ë¬¸ìžì—´ë¡œ setì— ì €ìž¥ëœë‹¤. setì„ í†µí•´ ì¤‘ë³µëœ ì¡°í•©ì„ ì œê±°í•œë‹¤.

# Complexity

TC : ð‘‚(ð‘!)
SC : ð‘‚(N)

# Code

```js
function solution(user_id, banned_id) {
  let userCount = user_id.length;
  const usedUsers = Array.from({ length: userCount }, () => false);
  const set = new Set();

  function helper(idx) {
    if (idx === banned_id.length) {
      set.add([...usedUsers].join(","));
      return;
    }

    const banId = banned_id[idx];
    for (let i = 0; i < userCount; i++) {
      if (!usedUsers[i] && isCorrect(banId, user_id[i])) {
        usedUsers[i] = true;
        helper(idx + 1);
        usedUsers[i] = false;
      }
    }
  }

  helper(0);
  return set.size;
}

//refactor
function isCorrect(banId, userId) {
  return banId.length === userId.length && [...banId].every((ch, i) => ch === "*" || ch === userId[i]);
}

//old version
// function isCorrect(banId, userId) {
//   if (banId.length !== userId.length) return false;

//   for (let i = 0; i < banId.length; i++) {
//     if (banId[i] === "*") continue;
//     if (banId[i] !== userId[i]) return false;
//   }
//   return true;
// }
```
